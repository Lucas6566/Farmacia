unit Farmacia.View.Pesquisa.Movimento;

interface

uses
  Winapi.Windows,
  Winapi.Messages,
  System.SysUtils,
  System.Variants,
  System.Classes,
  Vcl.Graphics,
  Vcl.Controls,
  Vcl.Forms,
  Vcl.Dialogs,
  Farmacia.View.Pesquisa.Pai,
  cxGraphics,
  cxControls,
  cxLookAndFeels,
  cxLookAndFeelPainters,
  dxSkinsCore,
  dxSkinBlack,
  cxStyles,
  cxCustomData,
  cxFilter,
  cxData,
  cxDataStorage,
  cxEdit,
  cxNavigator,
  dxDateRanges,
  dxScrollbarAnnotations,
  Data.DB,
  cxDBData,
  cxContainer,
  cxTextEdit,
  Vcl.Buttons,
  Vcl.StdCtrls,
  cxLabel,
  cxGridLevel,
  cxClasses,
  cxGridCustomView,
  cxGridCustomTableView,
  cxGridTableView,
  cxGridDBTableView,
  cxGrid,
  Vcl.ExtCtrls,
  Farmacia.View.Cadastro.Movimento, Farmacia.Util.Types;

type
  TFormPesquisaMovimento = class(TFormPesquisaPai)
    GridCodigo: TcxGridDBColumn;
    GridCodCliente: TcxGridDBColumn;
    GridNomeCliente: TcxGridDBColumn;
    GridVlrSubTotal: TcxGridDBColumn;
    GridVlrDesconto: TcxGridDBColumn;
    GridVlrAcrescimo: TcxGridDBColumn;
    GridVlrTotal: TcxGridDBColumn;
    procedure FormCreate(Sender: TObject);
    procedure BtnAlterarClick(Sender: TObject);
  private

  public

  end;

var
  FormPesquisaMovimento: TFormPesquisaMovimento;

implementation

{$R *.dfm}

procedure TFormPesquisaMovimento.BtnAlterarClick(Sender: TObject);
begin
  inherited;
  if TFormCadastroMovimento.MovimentoShow(TpUpdate, FDados) then
    FDados
      .Clientes
        .Select
        .DataSet.Locate('COD_MOVIMENTO', FDados.MovimentoCab.Cadastro.GetCodMovimento, []);
end;

procedure TFormPesquisaMovimento.FormCreate(Sender: TObject);
begin
  inherited;
  DS.DataSet := FDados.MovimentoCab.DataSet;
  FDados.MovimentoCab.Select;
  GridPesquisaDBTableViewColumnHeaderClick(GridPesquisaDBTableView, GridPesquisaDBTableView.Columns[0]);
end;

end.
