unit Farmacia.View.Pesquisa.Cliente;

interface

uses
  Winapi.Windows,
  Winapi.Messages,
  System.SysUtils,
  System.Variants,
  System.Classes,
  Vcl.Graphics,
  Vcl.Controls,
  Vcl.Forms,
  Vcl.Dialogs,
  Farmacia.View.Pesquisa.Pai,
  cxGraphics,
  cxControls,
  cxLookAndFeels,
  cxLookAndFeelPainters,
  dxSkinsCore,
  dxSkinBlack,
  cxStyles,
  cxCustomData,
  cxFilter,
  cxData,
  cxDataStorage,
  cxEdit,
  cxNavigator,
  dxDateRanges,
  dxScrollbarAnnotations,
  Data.DB,
  cxDBData,
  cxContainer,
  cxTextEdit,
  Vcl.Buttons,
  Vcl.StdCtrls,
  cxLabel,
  cxGridLevel,
  cxClasses,
  cxGridCustomView,
  cxGridCustomTableView,
  cxGridTableView,
  cxGridDBTableView,
  cxGrid,
  Vcl.ExtCtrls,
  Router4D.Interfaces,
  Router4D,
  Farmacia.View.Cadastro.Cliente,
  Farmacia.Util.Types;

type
  TFormPesquisaCliente = class(TFormPesquisaPai, iRouter4DComponent)
    GridCodigo: TcxGridDBColumn;
    GridNome: TcxGridDBColumn;
    GridNumDoc: TcxGridDBColumn;
    GridNascimento: TcxGridDBColumn;
    GridTelefone: TcxGridDBColumn;
    GridEmail: TcxGridDBColumn;
    procedure FormCreate(Sender: TObject);
    procedure btnExcluirClick(Sender: TObject);
  private

  public
    function Render : TForm;
    procedure unRender;
  end;

var
  FormPesquisaCliente: TFormPesquisaCliente;

implementation

{$R *.dfm}

uses Farmacia.Service.Conexao;

procedure TFormPesquisaCliente.btnExcluirClick(Sender: TObject);
begin
  inherited;
  TFormCadastroCliente.ClienteShow(TpDelete, DS.DataSet.FieldByName('COD_FUNCIONARIO').AsInteger)
end;

procedure TFormPesquisaCliente.FormCreate(Sender: TObject);
begin
  inherited;
  DS.DataSet := FormConexao.QyClientes;
  FormConexao.QyClientes.Open;
  GridPesquisaDBTableViewColumnHeaderClick(GridPesquisaDBTableView, GridPesquisaDBTableView.Columns[0]);
end;

function TFormPesquisaCliente.Render: TForm;
begin
  Result := Self;
end;

procedure TFormPesquisaCliente.unRender;
begin
  //
end;

end.
